import pandas as pd
from meta_ai_api import MetaAI


def read_csv(file_path):
    """
    Read the content from the CSV file.
    """
    df = pd.read_csv(file_path)
    col = df['Important Content'].tolist()
    data = [i for i in col if i not in ("No significant content found.","Failed to fetch content")]
    return data

def get_overall_summary(corpus):
    """
    Use MetaAI API to summarize the corpus into a single paragraph.
    """
    ai = MetaAI()
    combined_corpus = "\n".join(corpus)  # Combine all the content
    print("Sending content to MetaAI API for summarization...\n")
    response = ai.prompt(message=f"Using the following corpus:\n{combined_corpus}\n\nProvide an overall summary of the themes and key points.")
    # response = ai.prompt(message = "what is the weather in delhi right now")
    return response

def main():
    # Path to your CSV file
    csv_file = "web_content_summary (1).csv"
    
    # Step 1: Read content from the CSV file
    corpus = read_csv(csv_file)
    
    # Step 2: Get the overall summary using MetaAI API
    if corpus:
        summary = get_overall_summary(corpus)
        print("\n### Overall Summary ###")
        print(summary)
    else:
        print("No content found in the CSV file!")

if __name__ == "__main__":
    main()


# from meta_ai_api import MetaAI

# ai = MetaAI()

# corpus = ['music hello welcome express news thenext half hour get thelatest news updates abishekmahajan start topstory india prime minister narendramodi inaugurated asht lakmi mahvbhat mandam new delhi showcasesthe cultural vibrancy northeastindia first ever ash lakmi aimsto offer dynamic stage showcasingnortheast india vibranttextile sector tourism opportunitiestraditional craftsmanship anddistinctive geographical indicationtaggedproducts addressing lakmi mahotapm modi said diverse colors ofnortheast making beautiful rainbowin nationalcapital pm modi also said india isfocused global connectivity ofits culture trade northeast connectsus limitless potential south asiaand eastasia india remembers bhat ratna dr babassah ambedkar beacon social justiceon death anniversary india primeminister narendra modi besides otherdignitaries paid floral tributes tobabassahib india president dropi murmu paidtribute babasai ag square inbaneshwar orisha day widelyobserved maha parin niranthe chief minister north indian stateof utar pradesh yogi adiat severalother dignitaries offered froraltributes dredar day visit easternstate odisha india president rmurmu engaged students teachersof government school upara villagein mayurbandistrict president murmu also brieflyinteracted youths high schoolsub quently conduct aninteractive session students andfaculty mahila mahavidyalaya inrangpur ministry external affairsspokesperson randhi jwal said thatindia foreign secretary visitbangladesh december th india external affairs minister dra shanker attended opening openingsession india japan forum newdelhitoday speaking session dr jshanker highlighted potential forsemiconductor collaboration betweenindia japan emphasizing significanceand reshaping global geopoliticaldynamics dr j shanker also said thatcord one expansiveintergovermental coordination istoday music evidence former president chilefounding director un women formerun high commissioner human rightsmichelle bash awarded indraagandhi pricee peace disarmament anddevelopment amed ro oppositionmembers lo saaba lower house wasadjourned day reconvene onmonday india observes homeg guardsraising day friday celebrate thededication bravery voluntary music force india central bank thereserve bank india concluded itsthree day monetary policy committemeeting financial capital mumbai onfriday rbi decided keep reporate unchanged governor shakandas announced makes thconsecutive time repo rate hasremained unchanged thstraightmeeting rbi also reduced cashreserve ratio basis points bringing back level thepolicy tightening cycle began april reserve bank india cut real gdpgrowth projection financial year earlier projectionof close sensex points february gold futures tradingat rupees per g themcx indian rupee ended higher per dollar friday versus previous music close oil prices edge lower fridaywith weak demand focus opcplus group postpone plan supplyincreases extended deep output cutsto end bren crude futures fell cents per barrel us west texasintermediate crude futures lost centto music big setback boing united statesjudge rejected plane maker guilty pleato felony conspiracy charge pay afine misleading us regulator isabout max jet lineer twoof planes crashed killing people us stocks ended slightly onthursday united health sharplyand technology shares easing asinvestors awaited friday jobsreport according preliminary data thes p lost points end points nasdaq compositelost points music australian police searched twopeople suspected deliberatelystarting fire melbourne synagoguethat injured one caused widespread music damage prime minister anthony albanesicondemned fire deliberateunlawful attack saying anti semitism hasno place australia added thatcounterterror police involved intheinvestigation south korea remains onhigh alert amedis reports anotherlooming martial law music declaration south korea ruling partyleader said president yun needs tobe removed authority safetyof country trying imposemarshallaw south korean lawmakers fridaydiscussed special prosecinvestigation request treasonallegations declaration ofmartial law president yunsuol us secretary state anthonyblinkin spoke south koreancounterpart chai yul welcome liftingof marshal law said expected thedemocratic process prevail thecountry thousands people fled thecentral san city homes overnight andinto friday morning rebel forcesadvanc towards country thir cityhomes israel army said itconducted air strikes hisbah targetsalong syria lebanonborder united nations secretary generalantonio kra said urgent needfor immediate humanitarian access allcivilians need music syria french president emanuel macronreaffirmed would stay theend mandate may anaddress nation lawmakerstoppled government led michelleb french president added newgovernment represent variety ofparties willing take part atleast agree censureit french presidental appoint anew prime minister coming dayswhose top priority getting budget adopted theparliament russian foreign ministerserge la said hoped ukraine sallies would take moscow recent use ofhypersonic missiles conflictseriously russian president vladimirputin named alexander kingin actinggovernor k region partly occupiedby ukrainianforces romania several thousand rallyin capital bookrest support pro european presidential candidate fewdays keyelections us secretary state anthonylincol accused russia underminingdemocratic processes includinginfluencing presidential election inromania world bank announced record billion support world poorestcountries order help theworld poorest countries world bankhas said thursday raisednearly billion us president l donald trumpannounced appointment formersenator david perdu future ofambassador tochina president elect donald trump onthursday appointed former paypal chiefoperating officer david saaks hiswhite house artificial intelligence andcrypto music z women afghanistan film protestagainst reported taliban directive toban female students attendingmedical training institutes music time short break theother side stories keep watchingexpress music news needs expanded theplaces live becomingincreasingly vulnerablelet take look ideasand examples donewe traffic survey basically trafficvolume survey many intersection nowzero fatalities injuries streetshas zero dust pollution pm bags itnegates destruction rootstructure remove thesebags period weeks getstotally degraded mixes soilwhich also avoids plastic pollutionfish feces known sludge beused plant farming istarted smart integrated farming whichdidn help plantain farming butalso crops startedto grow applause music welcome back watching expressnews music stories powerful earthquake ofmagnitude jolted northern californiaon thursday deaths injuries werereported authorities said neededtime check across impactedarea earthquake centered mwest ferndale shallow depth km california govern g news ar saidhe signed state emergencydeclaration facilitateassistance coastal town scrambled atsunami warning extended macross california oregon however thealert cancelled minuteslater clients withoutpower humal county theearthquake struck aal footage alsoshowed drivers northern californstuck traffic tsunami warningmorning normal train service betweenbangkok thailand ha resumed whichwas suspended past week due toheavy flooding authorities said therepairs underway resumeupon music completion met department predictedheavy rain southern province ofthailand due moderate northeasternmonsoon india new delhi witness dipin temperature friday theminimum temperature dropping de cat temperature fell almostby last hours also shallow fogengulfing new delhi indian metdepartment predicted minimumtemperature drop c december air quality index delhi improvedto moderate category overall airquality index recorded delhi fridaymercury continued freeall theminimum temperature dropped dec india shaga friday temperaturesare expected dip tillsunday us president joe biden attendedthe annual us national christmas treelighting ceremony last hispresidency washington thursday thetradition marks start holidayseason us capitalunesco inscribed china spring festivalon intangible cultural heritage list thedecision made thsession intergovernmentalcommittee addition china nowhas cultural elements recognized byunesco intangible cultural heritageof humanity committee recognized thefestival wide array ritualsand culturalelements buddhist gathered sanamluang pay respects toothrelic lord buddha relic bein thailand february th lotus flows also available atthe pavio built sanam luang forbuddhist placed chedi espciallybuilt thisoccasion tourists attracted thestunning site colorful bridgeconnecting sky huko waterfallin china yellow river waterfall isrenowned rapid water flow andthundersound camera footage showcased laughtriggering scene panda cub crawlingtowards breeder mim making asweeping robot cute panda c wascrawling forward belly andshort limbs close theground apex million year oldstarus dinosaur fossil billionairekenneth c griffin bought million displayed americanmuseum natural history new york onthursday steris fossil found incolorado fed record millionat sou bas auction injuly bas host firstauction american football star tombrady watch memoria collection december brady collection featuring watches showcases diverse rangefrom spots modern vintagethe collection includes odm royaloak roast estimated fgbetween new paul mne coincollection released royalmint friday coin design honorsthe former beetle iconic musicianskara coin also featur magic pianodesign signature hof nalin basseguitar wings logo piano notespersonally chosen bymcart indian artist eava prasadinaugurated captivating art exhibitioncelebrating creativity expression innew delhi event brought togetherartists dignitaries offering avibrant showcase diverse artisticstyles delhi exhibition aims topromote cultural appreciation andencourage meaningful convers stationsthrough lens th class student india guiabuilds air taxi drone air taxiprototype demonstrates advancedtechnological skills highlights thecreative potential youngminds nasa announced new delays inthe us space agency ous program toreturn astronauts moon thefirst time since making announcementadministrator nelson confirmed wouldbe delayed april thetimus mission experienced previousdelays music well new research reveals increase mental health insuranceclaims australians overthe pastdecade mental health coms nearlya third permanent disabilityclaims workplace stress reducedresilience contributing riseconservationist england arespearheading nature restorationexperiment north yorkshiremoving fungi soil ancientwoodland newly establishedsite project aims reintroducemissing fungi species integral treehealth soil sustainabilitypotentially informing nationwide forestmanagementpractices crowds gather celebrate thelighting rockefeller cent achristmas tree new york city onwednesday aliia bat much anticipatedaction thriller jigra finally set topremere netflix theatricallease inoctober indian actor toino thomas filmidentity released theaters injanuary film trailer alsounveiled sports india bundle runs first innings theday night second test ad late matchagainst music australia nes ready emerged ashighest scorer runs whileaustralia mitchell stark claimed acareer best bowling attack music jpr bura joined k da z khan toclaim test picks calendar yearbura reached milestone theongoing ad late test day night testagainstaustralia australia ended first day ofthe second test runs theboard loss one wicket australiatrail india runs attendance adade worldduring second test india versusaustralia break e record people attended game firstday india defeated sri lanka sevenwickets asia cup semfinal fixture charge friday withthis victory india booked birth thefinal december england bundled runs theopening day second test inwellington new zealand scored runsfor loss five wickets endof theday former australia batter joe burnshas announced italy newcaptain brisbane bor hinted hisallegiances italy may thisyear faers marino midl jedia bladesare set replace matthew ford andshamar joseph west indies squadfor odi series againstbangladesh chinese grand pri inshanghai remain formula calendar least new yeardeal india producers sell performanceat hong kong leg world pickleball championship securing total ofsix medals including one gold threesilver two bronze medals music mexican club leyon set put upfor sale comply fifa clubworld cup regulations last month fifaannounced ban multiple tees belongingto music ownership india deas china ding lenwill face th game ofthe world chess championship saturdaygame n saw six consecutive draw moves indian athletes backed medals ongoing asia pacificpacific de games malaysiacurrently india placed thirdrank athleticsgames nba willstage two preseason games maau nextoctober marking return chinaafter frozen years well thisedition express news stay tunedfor news updates namaskar music w music']

# # response = ai.prompt(message=f"using {corpus}, find the themes on which the news is based on")
# response = ai.prompt(message="what is the weather right now in delhi")
# print(response)